---
title: "프로젝트 시작하기(0) - 왜 이렇게 만든거에요?"
date: 2022-09-12T14:29:39+09:00
tags: ["structure","ddd","clean architecture"]
draft: true
---
처음 단독 프로젝트를 맡아서 시작할 때, 굉장히 막막했던 기억이 있다. 이미 서비스 중인 프로젝트에 기능을 추가하거나 수정하는 일은 해당 프로젝트의 다른 코드들을 참고하여 그 방법, 그 스타일을 그대로 사용하면 되었다. 하지만 프로젝트를 처음부터 새로 만드는 것은 어떤 디렉토리 구조를 가져가고, 어떤 방법론을 사용하며, 어떤 라이브러리를 사용할 것인지 하나부터 열까지 조사해가며 결정해야 한다. 

그 막막한 과정들 중에 처음 프로젝트 구조를 잡아가는 과정에 대해서 적어보고자 한다.

## 어떤 구조를 만들고 싶은가
내가 지향하는 프로젝트 구조는 **논리적**이고, **실용적**이고, **누구든지 납득 가능한** 구조이다. 논리적으로 구성되어 반박할 여지가 없고, 너무 구조에만 치우친 나머지 불필요한 코드가 많아지는 것은 피하고 싶다. 그리고 개발은 나 혼자 하는 것이 아니기에, 나와 같이 일하는 누군가가 이 구조에 대해서 납득을 하고, 이 구조 안에서 함께 개발을 할 수 있어야 한다고 생각한다.

처음에는 많이 들어왔고 공부했던 DDD, 클린 아키텍쳐를 보면서 시작을 했다. 워낙 유명한 책들이라 당연히 논리적이고 실용적이라고 생각했고, 다른 사람들도 납득할 수 있을 것이라는 생각을 하였다. 하지만 두 가지 이유로 이것들을 그대로 사용할 수 없다는 생각을 하게 되었다.

### 1. 러닝커브
DDD와 클린 아키텍쳐는 유명하고 많이들 알긴 하지만, 또 마냥 그런 것은 아니었다. 유명한 개념, 용어들 정도만 알고 있는 경우도 많고, 실제로 개발할 때 적용을 해본 사람도 많지 않았다. 이렇게나마 알고 있지도 않은 정도라면 이야기는 더 어려워진다. 

어떤 상황이던간에 컨센서스를 맞춰야 한다는 점은 동일하다. 가장 이상적이고 가장 좋아보이지만, 여유있게 스터디를 하며 개발을 해나가는 상황이 많지는 않을 것 같았다. 우리가 개발을 하는 거의 모든 상황은 기한이 정해져있기 때문이다.

### 2. 생각보다 실용적이지 않다.
DDD와 클린 아키텍쳐를 읽으면서 들었던 생각은 '멋있다'였다. 이 책들만 있으면 현실의 많은 문제들을 쉽게 해결할 수 있을 것 같았다. 레이어를 나누는 것을 통해서 칼같이 역할이 분리되고, 비즈니스 로직을 아주 탄탄하게 구성할 수 있을 것만 같았다.

DDD와 클린 아키텍쳐를 실제 개발에 적용하면서 들었던 생각은 '이럴 땐 어떻게 해?'였다. 생각보다 현실은 단순하지 않았다. 도메인 로직과 애플리케이션 로직의 차이는 어떻게 구분하는지, 도메인 피쳐의 구분은 어떤 식으로 이루어져야하는지 등 책에서는 보지 못한 예외적인 상황들이 너무 많았다.

### 3. 과연 내가 정확히 잘 알고 있는걸까
가장 큰 이유는 나 스스로도 이 저자들의 생각을 정확히 이해하고 있다는 확신이 안선다는 것이었다. 내가 책을 잘못 이해하고 있을 수도 있고, 책에 있는 글자를 잘못 읽었을 수도 있다. 혹은 너무 오래된 기억이라 잊었을 수도 있다. 애초에 나조차도 설득시키기 어려운 논리로 어떻게 다른 사람과 함께 한다는 이야기일까.

### 사용하되 설명 가능하게
위와 같은 이유들로 인해 다른 훌륭한 사람들의 방법을 그대로 사용하는 것은 어려울 것 같다는 결론을 내렸다. 그리고 나의 언어로 나의 프로젝트를 만들어야 한다고 생각했다. 

기본적으로 앞서 말한 개발 방법들의 철학을 대략적으로 이해하고자 했다. 대략적이라는 표현을 사용한 이유는 그들의 언어를 곧이 곧대로 받아들인다는 생각보다는, 저자들이 큰 틀에서 무엇을 이룩하고자 하였는지만을 이해하고 나의 언어로 해석하기 위함이었다.

그렇게 스스로를 설득할 수 있었다. 나의 언어로 해석하였기 때문에 내가 이해할 수 있다. 또한 내가 나의 논리를 펼친 것이기 때문에 저자의 언어를 혹은 의도를 잘못 이해한 것 자체는 문제가 되지 않는다. 내가 말하고자 하는 것은 다른 책을 토대로 내 논리를 펼친 것이기 때문이다.

이렇게 만들어진 논리는 내가 잘 이해할 수 있기 때문에 다른 사람들도 잘 설득할 수 있다. 왜 이렇게 되었는지를 스스로 납득할 정도가 되었으니, 남에게 설명하는 것도 가능하다. 만약 설명이 부족하다면 내 논리의 기반이 되는 다른 책들을 찾아보면서 보강할 수 있을 것이다.

이렇듯, 나는 내 언어로 나만의 프로젝트 구조를 해석하고자 했다. 내가 나에게 물었을 때, 혹은 다른 사람이 나에게 물었을 때 나는 이해 가능한 수준에서 설명을 할 수 있어야 한다.ㅌ   
> 왜 이렇게 만들었어요?